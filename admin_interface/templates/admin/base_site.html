{% extends 'admin/base.html' %}
{% load i18n static admin_interface_tags %}

{% block title %}
{% get_admin_interface_theme as theme %}
{% if title %}{{ title }} | {% endif %}{% if theme.title %}{% trans theme.title %}{% else %}{{ site_title|default:_('Django administration') }}{% endif %}
{% endblock %}

{% block extrastyle %}
{% get_admin_interface_theme as theme %}
{% get_admin_interface_dark_theme as dark_theme %}
{% get_admin_interface_nocache as version_md5_cache %}
{% get_current_language as current_lang %}
    {% include "admin/includes/base_styles.html" %}
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/admin-interface.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/admin-interface-fix.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/form-controls.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/language-chooser.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/list-filter-dropdown.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/rangefilter.css' %}?v={{ version_md5_cache }}">
    {% if not theme.recent_actions_visible %}
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/recent-actions.css' %}?v={{ version_md5_cache }}">
    {% endif %}
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/related-modal.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/streamfield.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/jquery.ui.tabs.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/modeltranslation.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/sorl-thumbnail.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/ckeditor.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/tinymce.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/json-widget.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/import-export.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/rtl.css' %}?v={{ version_md5_cache }}">
    <link rel="stylesheet" type="text/css"
          href="{% static 'admin_interface/css/tabbed-changeform.css' %}?v={{ version_md5_cache }}">

{% if current_lang == 'fa' %}
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v27.2.2/dist/font-face.css">
{% endif %}

{% endblock %}

{% block blockbots %}
{{ block.super }}
{% get_admin_interface_theme as theme %}
{% get_admin_interface_nocache as version_md5_cache %}
{# https://github.com/elky/django-flat-responsive#important-note #}
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/responsive.css' %}?nocache={{ version_md5_cache }}">
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/responsive_rtl.css' %}?nocache={{ version_md5_cache }}">
{% include "admin_interface/favicon.html" %}
{% include "admin_interface/foldable-apps.html" %}
{% include "admin_interface/related-modal.html" %}
{% endblock %}

{% block extrahead %}
{{ block.super }}
{% endblock %}

{% block bodyclass %}
{% get_admin_interface_theme as theme %}
flat-theme admin-interface
{% if theme.name %} {{ theme.name|slugify }}-theme {% endif %}
{% if theme.foldable_apps %} foldable-apps {% endif %}
{% if theme.form_submit_sticky %} sticky-submit {% endif %}
{% if theme.form_pagination_sticky %} sticky-pagination {% endif %}
{% if theme.list_filter_highlight %} list-filter-highlight {% endif %}
{% if theme.list_filter_sticky %} list-filter-sticky {% endif %}
{% endblock %}

{% block branding %}
{% get_admin_interface_theme as theme %}
<h1 id="site-name">
    <a href="{% url 'admin:index' %}">
        {% if theme.logo_visible %}
            {% if theme.logo %}
            <img class="logo" style="display:none;" src="{{ theme.logo.url }}" {% if theme.logo.width %}width="{{ theme.logo.width }}"{% endif %} {% if theme.logo.height %}height="{{ theme.logo.height }}"{% endif %}>
            {% else %}
            <img class="logo default" style="display:none;" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="104" height="36">
            {% endif %}
        {% endif %}
        {% if theme.title_visible %}
        <span>{% if theme.title %}{% trans theme.title %}{% else %}{{ site_header|default:_('Django administration') }}{% endif %}</span>
        {% endif %}
    </a>
</h1>
{% endblock %}

{% block welcome-msg %}
{% get_admin_interface_theme as theme %}
{% if theme.env_visible_in_header %}<span class="environment-label {{ theme.env_name }}">{{ theme.env_name }}</span><br>{% endif %}{{ block.super }}<br>
{% endblock %}

{% block userlinks %}
{{ block.super }}
{% get_admin_interface_theme as theme %}
{% if theme.language_chooser_active %}
    {% get_admin_interface_languages as languages %}
    {% include "admin_interface/language_chooser.html" %}
{% endif %}
{% endblock %}
